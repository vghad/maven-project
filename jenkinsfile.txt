pipeline{
	agent any

	tools{
		maven 'localmaven'
	}

      stages{
			
		stage('Docker Pull'){
				steps{
				
					withCredentials([usernamePassword(credentialsId: 'ansible-user', passwordVariable: 'ansiblePassword', usernameVariable: 'ansibleUser')]) {
					sh "ansible-playbook deploy-test.yml --extra-vars  ("ansible_user= ${env.ansible-userUser} ansible_password=${env.ansible-userPassword}")"
					echo "Docker image deployed on Node successfully ....!!!"
				   }
				
				}
			}
	}
}		
