pipeline{
	agent any

	tools{
		maven 'localmaven'
	}

      stages{
			
		stage('Docker Pull'){
				steps{
				
					withCredentials([usernamePassword(credentialsId: 'ansible', passwordVariable: 'ansiblePassword', usernameVariable: 'ansibleUser')]) {
					sh "ansible-playbook deploy-test.yml --extra-vars ansible_user= ${env.ansibleUser} ansible_password= ${env.ansiblePassword}"
					echo "Docker image deployed on Node successfully ....!!!"
				   }
				
				}
			}
	}
}		
